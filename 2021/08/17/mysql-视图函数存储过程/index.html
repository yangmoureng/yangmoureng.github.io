

<!DOCTYPE html>
<html lang="zh-CN" color-mode=light>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>å‡½æ•°ä¸å­˜å‚¨è¿‡ç¨‹ - YangBlog</title>
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="google" content="notranslate" />
  
  <meta name="description" content="å‡½æ•°function
äº†è§£å³å¯ - å¼€å‘ä¸­è‚¯å®šç”¨ä¸åˆ°....">
  <meta name="author" content="yang">
  <link rel="icon" href="/images/icons/favicon-16x16.png" type="image/png" sizes="16x16">
  <link rel="icon" href="/images/icons/favicon-32x32.png" type="image/png" sizes="32x32">
  <link rel="apple-touch-icon" href="/images/icons/apple-touch-icon.png" sizes="180x180">
  <meta rel="mask-icon" href="/images/icons/stun-logo.svg" color="#333333">
  
    <meta rel="msapplication-TileImage" content="/images/icons/favicon-144x144.png">
    <meta rel="msapplication-TileColor" content="#000000">
  

  
<link rel="stylesheet" href="/css/style.css">


  
    
<link rel="stylesheet" href="//at.alicdn.com/t/font_1445822_p6ry5n7lrr.css">

  

  
    
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css">

  

  
    
      
        
        
<link rel="stylesheet" href="https://cdn.bootcss.com/highlight.js/9.18.1/styles/xcode.min.css" name="highlight-style" mode="light">

      
        
        
<link rel="stylesheet" href="https://cdn.bootcss.com/highlight.js/9.18.1/styles/solarized-dark.min.css" name="highlight-style" mode="dark">

      
  

  <script>
    var CONFIG = window.CONFIG || {};
    var ZHAOO = window.ZHAOO || {};
    CONFIG = {
      isHome: false,
      fancybox: true,
      pjax: false,
      loading: {
        gif: '/images/theme/loading.gif',
        lottie: ''
      },
      lazyload: {
        enable: true,
        only_post: 'false',
        loading: {
          gif: '/images/theme/loading.gif',
          lottie: ''
        }
      },
      donate: {
        enable: true,
        alipay: 'https://pic.izhaoo.com/alipay.jpg',
        wechat: 'https://pic.izhaoo.com/wechat.jpg'
      },
      galleries: {
        enable: true
      },
      fab: {
        enable: true,
        always_show: false
      },
      carrier: {
        enable: true
      },
      daovoice: {
        enable: false
      },
      preview: {
        background: {
          default: '',
          api: ''
        },
        motto: {
          default: 'æ ‘æ¬²é™è€Œé£ä¸æ­¢ï¼Œå­æ¬²å…»è€Œäº²ä¸å¾…ã€‚',
          typing: true,
          api: 'https://v2.jinrishici.com/one.json',
          data_contents: '["data","content"]'
        },
      },
      qrcode: {
        enable: true,
        type: 'url',
        image: 'https://pic.izhaoo.com/weapp-code.jpg',
      },
      toc: {
        enable: true
      },
      scrollbar: {
        type: 'default'
      },
      notification: {
        enable: false,
        delay: 4500,
        list: '',
        page_white_list: '',
        page_black_list: ''
      },
      search: {
        enable: false,
        path: ''
      }
    }
  </script>

  

  

<meta name="generator" content="Hexo 5.4.0"><link rel="alternate" href="/atom.xml" title="YangBlog" type="application/atom+xml">
</head>

<body class="lock-screen">
  <div class="loading" id="loading"></div>
  
    


  <nav class="navbar">
    <div class="left">
      
        <i class="iconfont iconhome j-navbar-back-home"></i>
      
      
        <i class="iconfont iconqrcode j-navbar-qrcode"></i>
      
      
        <i class="iconfont iconmoono" id="color-toggle" color-toggle="light"></i>
      
      
    </div>
    <div class="center">å‡½æ•°ä¸å­˜å‚¨è¿‡ç¨‹</div>
    <div class="right">
      <i class="iconfont iconmenu j-navbar-menu"></i>
    </div>
    
      <div id="qrcode-navbar"></div>
    
  </nav>

  
  

<nav class="menu">
  <div class="menu-container">
    <div class="menu-close">
      <i class="iconfont iconbaseline-close-px"></i>
    </div>
    <ul class="menu-content"><li class="menu-item">
        <a href="/ " class="underline "> é¦–é¡µ</a>
      </li><li class="menu-item">
        <a href="/galleries/ " class="underline "> å¿«ä¹</a>
      </li><li class="menu-item">
        <a href="/archives/ " class="underline "> å½’æ¡£</a>
      </li><li class="menu-item">
        <a href="/tags/ " class="underline "> æ ‡ç­¾</a>
      </li><li class="menu-item">
        <a href="/categories/ " class="underline "> åˆ†ç±»</a>
      </li><li class="menu-item">
        <a href="/about/ " class="underline "> å…³äº</a>
      </li></ul>
    
      <div class="menu-copyright"><p>Powered by <a target="_blank" href="https://hexo.io">Hexo</a>  |  Theme - <a target="_blank" href="https://github.com/yangmoureng">yang</a></p></div>
    
  </div>
</nav>
  <main id="main">
  <div class="article-wrap">
    <div class="row container">
      <div class="col-xl-3"></div>
      <div class="col-xl-6"><article class="article">
  <div class="wrap">
    <section class="head">
  <img   class="lazyload" data-original="/images/theme/pg15.jfif" src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg=="  draggable="false">
  <div class="head-mask">
    <h1 class="head-title">å‡½æ•°ä¸å­˜å‚¨è¿‡ç¨‹</h1>
    <div class="head-info">
      <span class="post-info-item"><i class="iconfont iconcalendar"></i>å…«æœˆ 17, 2021</span>
      
      <span class="post-info-item"><i class="iconfont iconfont-size"></i>14610</span>
    </div>
  </div>
</section>
    <section class="main">
      <section class="content">
        
        <h1 id="å‡½æ•°function"><a href="#å‡½æ•°function" class="headerlink" title="å‡½æ•°function"></a>å‡½æ•°function</h1><blockquote>
<p>äº†è§£å³å¯ - å¼€å‘ä¸­è‚¯å®šç”¨ä¸åˆ°.</p>
</blockquote>
<blockquote>
<p>å•è¡Œå‡½æ•° - å­—ç¬¦ä¸²å‡½æ•°,æ•°å­—å‡½æ•°,æ—¥æœŸå‡½æ•°</p>
<p>å¤šè¡Œå‡½æ•°(ç»„å‡½æ•°)</p>
<p>å®é™…ä¸Šæ•°æ®åº“æ˜¯å¯ä»¥è¿›è¡Œç¼–ç¨‹çš„.</p>
</blockquote>
<blockquote>
<p>å¦‚æœä½¿ç”¨çš„æ˜¯mysql8.x,éœ€è¦è®¾ç½®ä¸€ä¸‹æ‰èƒ½å…è®¸è‡ªå®šä¹‰å‡½æ•°</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1. åœ¨my.iniæ–‡ä»¶ä¸‹æ·»åŠ ï¼šlog-bin-trust-function-creators=1 </span><br><span class="line">   éœ€è¦é‡å¯dbæœåŠ¡å™¨</span><br><span class="line">   </span><br><span class="line">2. åœ¨mysqlå®¢æˆ·ç«¯[ç»ˆç«¯] - set global log_bin_trust_function_creators=TRUE;</span><br></pre></td></tr></table></figure>
</blockquote>
<h2 id="è¯­æ³•"><a href="#è¯­æ³•" class="headerlink" title="è¯­æ³•"></a>è¯­æ³•</h2><p><code>å‡½æ•°è¯­æ³• - åˆ›å»º</code></p>
<p><code>æ³¨æ„ç‚¹:</code></p>
<p><code>1. å‡½æ•°ä½“ä¸­è‚¯å®šæœ‰returnè¯­å¥</code></p>
<p><code>2. åªè¦é‡åˆ°varcharç±»å‹,å¿…é¡»è¦æŒ‡å®šå‚æ•°çš„é•¿åº¦</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">-- mysqlä¸­é»˜è®¤çš„ç»“æŸç¬¦å·ä½¿ç”¨çš„æ˜¯;</span><br><span class="line">-- ä¿®æ”¹äº†é»˜è®¤çš„ç»“æŸç¬¦å·ä½$$</span><br><span class="line">-- å‡½æ•°ä½“ä¸­è‚¯å®šä¼šå‡ºç°åˆ†å·</span><br><span class="line">delimiter $$</span><br><span class="line"></span><br><span class="line">-- åˆ›å»ºå‡½æ•°</span><br><span class="line">create function å‡½æ•°å([å˜é‡ æ•°æ®ç±»å‹(é•¿åº¦)]) returns è¿”å›æ•°æ®ç±»å‹</span><br><span class="line">begin</span><br><span class="line">	-- å‡½æ•°ä½“</span><br><span class="line">	return ç»“æœ;</span><br><span class="line">end $$</span><br><span class="line"></span><br><span class="line">delimiter ;</span><br></pre></td></tr></table></figure>

<p><code>åˆ é™¤å‡½æ•°</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">-- åˆ é™¤å‡½æ•°</span><br><span class="line">drop function å‡½æ•°å;</span><br></pre></td></tr></table></figure>

<h2 id="ç»ƒä¹ 1-è‡ªå®šä¹‰å‡½æ•°"><a href="#ç»ƒä¹ 1-è‡ªå®šä¹‰å‡½æ•°" class="headerlink" title="ç»ƒä¹ 1 - è‡ªå®šä¹‰å‡½æ•°"></a>ç»ƒä¹ 1 - è‡ªå®šä¹‰å‡½æ•°</h2><blockquote>
<p>ä¼ å…¥ä¿©ä¸ªæ•´æ•°,è¿”å›ä¿©ä¸ªæ•´æ•°çš„ç›¸åŠ çš„ç»“æœ</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">drop function adds;</span><br><span class="line"></span><br><span class="line">delimiter //</span><br><span class="line">create function adds(a int,b int) returns int</span><br><span class="line">begin</span><br><span class="line">	return a + b;</span><br><span class="line">end //</span><br><span class="line">delimiter ;</span><br></pre></td></tr></table></figure>

<p>è°ƒç”¨å‡½æ•°</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select adds(10,30);</span><br></pre></td></tr></table></figure>
</blockquote>
<h2 id="ç»ƒä¹ 2-è‡ªå®šä¹‰å‡½æ•°"><a href="#ç»ƒä¹ 2-è‡ªå®šä¹‰å‡½æ•°" class="headerlink" title="ç»ƒä¹ 2 - è‡ªå®šä¹‰å‡½æ•°"></a>ç»ƒä¹ 2 - è‡ªå®šä¹‰å‡½æ•°</h2><blockquote>
<p>æ—¥æœŸæ ¼å¼åŒ–  xxxxå¹´xxæœˆxxæ—¥</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">drop function my_date;</span><br><span class="line"></span><br><span class="line">delimiter //</span><br><span class="line">create function my_date(dt date) returns varchar(20)</span><br><span class="line">begin</span><br><span class="line">	return date_format(dt,&#x27;%Yå¹´%mæœˆ%dæ—¥&#x27;);</span><br><span class="line">end //</span><br><span class="line">delimiter ;</span><br><span class="line"></span><br><span class="line">-- è°ƒç”¨</span><br><span class="line">select my_date(now());</span><br><span class="line"></span><br><span class="line">select my_date(&#x27;2010-09-09&#x27;);</span><br></pre></td></tr></table></figure>
</blockquote>
<h2 id="ç»ƒä¹ 3-while-doâ€¦end-while"><a href="#ç»ƒä¹ 3-while-doâ€¦end-while" class="headerlink" title="ç»ƒä¹ 3 - while..doâ€¦end while"></a>ç»ƒä¹ 3 - while..doâ€¦end while</h2><blockquote>
<p><strong>æ„Ÿå—å¾ªç¯è¯­å¥(while .. do. .. end while)ä»¥åŠå±€éƒ¨å˜é‡(declare)ä»¥åŠå˜é‡å¦‚ä½•é‡æ–°è®¾ç½®(set)</strong></p>
<p>1~xä¹‹é—´çš„æ€»å’Œ</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">drop function x_add;</span><br><span class="line">delimiter //</span><br><span class="line"></span><br><span class="line">create function x_add(x int) returns int</span><br><span class="line">begin</span><br><span class="line">	-- å®šä¹‰ä¿©ä¸ªå±€éƒ¨å˜é‡</span><br><span class="line">	declare i int default 1;</span><br><span class="line">	declare sums int default 0;</span><br><span class="line">	-- å¾ªç¯</span><br><span class="line">	while i&lt;=x do</span><br><span class="line">		-- sumsåŠ </span><br><span class="line">		set sums = sums+i;</span><br><span class="line">		-- iè‡ªå¢</span><br><span class="line">		set i = i + 1;</span><br><span class="line">	end while;</span><br><span class="line">	return sums;</span><br><span class="line">end //</span><br><span class="line">delimiter ;</span><br><span class="line"></span><br><span class="line">select x_add(100);</span><br></pre></td></tr></table></figure>
</blockquote>
<h2 id="ç»ƒä¹ 4-ifâ€¦end-if"><a href="#ç»ƒä¹ 4-ifâ€¦end-if" class="headerlink" title="ç»ƒä¹ 4 - ifâ€¦end if"></a>ç»ƒä¹ 4 - ifâ€¦end if</h2><blockquote>
<p>åˆ†æ”¯è¯­å¥</p>
<p>1~xä¹‹é—´çš„å¶æ•°å¥‡æ•°è¿›è¡Œç›¸åŠ </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">drop function ji_add;</span><br><span class="line">delimiter //</span><br><span class="line">create function ji_add(x int) returns int</span><br><span class="line">begin</span><br><span class="line">	declare i int default 1;</span><br><span class="line">	declare sums int default 0;</span><br><span class="line">	while i&lt;=x do</span><br><span class="line">		if i%2!=0 then</span><br><span class="line">		set sums = sums+i;</span><br><span class="line">		end if;</span><br><span class="line">		set i = i + 1;</span><br><span class="line">	end while;</span><br><span class="line">	return sums;</span><br><span class="line">end //</span><br><span class="line">delimiter ;</span><br><span class="line"></span><br><span class="line">select ji_add(100);</span><br></pre></td></tr></table></figure>
</blockquote>
<h2 id="ç»ƒä¹ 4-å…¨å±€å˜é‡"><a href="#ç»ƒä¹ 4-å…¨å±€å˜é‡" class="headerlink" title="ç»ƒä¹ 4 - å…¨å±€å˜é‡"></a>ç»ƒä¹ 4 - å…¨å±€å˜é‡</h2><blockquote>
<p>1~xä¹‹é—´çš„æ•°å­—ä¹‹å,ä½†æ˜¯ä¸åŒ…æ‹¬5çš„å€æ•°</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">drop function jis_add;</span><br><span class="line">delimiter //</span><br><span class="line">create function jis_add(x int) returns int</span><br><span class="line">begin</span><br><span class="line">	-- å®šä¹‰ä¸€ä¸ªå±€éƒ¨å˜é‡</span><br><span class="line">	declare i int default 1;</span><br><span class="line">	-- å®šä¹‰ä¸€ä¸ªå…¨å±€å˜é‡ - mysqlèƒ½å¤Ÿè¯†åˆ«åˆ°çš„ç¬¦å·@ - @å˜é‡å - å…¨å±€å˜é‡</span><br><span class="line">	set @sums = 0;</span><br><span class="line">	-- ç±»ä¼¼äºjavaä¸­çš„continueè¯­å¥ + ä»£ç å—å‘½å</span><br><span class="line">	-- successæ˜¯ä¸€ä¸ªå¾ªç¯è¯­å¥æ ‡ç­¾åç§° - éšä¾¿å‘½åçš„</span><br><span class="line">	success:while i&lt;=x do</span><br><span class="line">		if i%5=0 then</span><br><span class="line">			set i = i + 1;</span><br><span class="line">			-- ä¸‹é¢çš„ä»£ç ä¸æ‰§è¡Œ</span><br><span class="line">			-- ç»§ç»­è¿­ä»£successçš„å¾ªç¯ - continue - ç»§ç»­ä¸‹ä¸€è½®å¾ªç¯,å¿½ç•¥æœ¬è½®çš„å¾ªç¯</span><br><span class="line">			iterate success;</span><br><span class="line">		end if;</span><br><span class="line">		set @sums = @sums + i;</span><br><span class="line">		set i = i + 1;</span><br><span class="line">	end while;</span><br><span class="line">	return @sums;</span><br><span class="line">end //</span><br><span class="line">delimiter ;</span><br><span class="line"></span><br><span class="line">select jis_add(100);</span><br><span class="line">-- å…¨å±€å˜é‡ - å‡½æ•°ä½“å¤–éƒ¨æ˜¯å¯ä»¥è®¿é—®å¾—åˆ°çš„</span><br><span class="line">select @sums;</span><br></pre></td></tr></table></figure>
</blockquote>
<h1 id="å­˜å‚¨è¿‡ç¨‹procedure"><a href="#å­˜å‚¨è¿‡ç¨‹procedure" class="headerlink" title="å­˜å‚¨è¿‡ç¨‹procedure"></a>å­˜å‚¨è¿‡ç¨‹procedure</h1><blockquote>
<p>å®‰è£…å¥½mysqlç¯å¢ƒä¹‹å,å®é™…ä¸Šå°±æ˜¯åœ¨æœ¬åœ°ä¸­å®‰è£…å¥½äº†mysql-server - mysqlçš„æœåŠ¡å™¨ç«¯ä»¥åŠmysql-client - mysqlçš„å®¢æˆ·ç«¯</p>
<p>mysql-server - å³å‡»è®¡ç®—æœº - ç®¡ç† - æœåŠ¡ - æœåŠ¡å’Œåº”ç”¨ç¨‹åº - å³è¾¹ğŸ‘‰ - MysqlæœåŠ¡</p>
<p>mysql-client - mysqlè‡ªå¸¦çš„ä¸€ä¸ªå®¢æˆ·ç«¯.å¸‚é¢ä¸Šè¿˜æœ‰å¾ˆå¤šç¬¬ä¸‰æ–¹çš„å®¢æˆ·ç«¯[å¯è§†åŒ–æ•ˆæœä¸é”™] - navicat[æ”¶è´¹çš„],idea</p>
</blockquote>
<blockquote>
<p><em><strong>ä¸€æ¡sqlè¯­å¥çš„æ‰§è¡Œçš„æµç¨‹.</strong></em></p>
<p><strong>mysql&gt; select * from s_emp;</strong></p>
<p><em><strong>â‘ å½“è¾“å…¥sqlå®Œæ¯•ä¹‹å,æ•²ä¸‹enteré”®ä¹‹å,å®¢æˆ·ç«¯æ£€æµ‹ä¸€ä¸‹sqlçš„è¯­æ³•æ˜¯å¦è§„èŒƒ.å¦‚æœä¸è§„èŒƒ,ç›´æ¥æŠ¥é”™.</strong></em></p>
<p><em><strong>â‘¡å¦‚æœsqlè¯­æ³•æ˜¯è§„èŒƒçš„,å®¢æˆ·ç«¯ä¼šè´Ÿè´£å°†è¿™æ¡åˆæ³•çš„sqlè¯­æ³•å‘é€åˆ°mysql-server  - mysqlæœåŠ¡å™¨ç«¯</strong></em></p>
<p><em><strong>â‘¢mysql-serveræ¥å—åˆ°æ¥è‡ªäºå®¢æˆ·ç«¯çš„sqlä¹‹å.mysql-serverä¼šå¯¹è¿™æ¡sqlè¿›è¡Œç¼–è¯‘å’Œè§£æ</strong></em></p>
<p><em><strong>â‘£mysql-serverä¼šå°†è§£æçš„ç»“æœè¿”å›ç»™mysql-clientç«¯[sqlè¯­å¥çš„æ‰§è¡Œç»“æœ]</strong></em></p>
<p><em><strong>æ€»ç»“: sqlè¯­å¥ - è¯­æ³•æ£€æµ‹ - å‘é€åˆ°mysql-server - ç¼–è¯‘,è§£æ,è¿”å›ç»™mysql-client</strong></em>,å°†è¿™æ¬¡sqlæ‰§è¡Œçš„ç»“æœä¿å­˜</p>
</blockquote>
<h2 id="ä½œç”¨"><a href="#ä½œç”¨" class="headerlink" title="ä½œç”¨"></a>ä½œç”¨</h2><blockquote>
<p>ä¸ºäº†å®Œæˆä¸€äº›ç‰¹å®šçš„åŠŸèƒ½,æå‰è®²sqlé¢„ç¼–è¯‘å¥½,å­˜å‚¨åœ¨mysql-serverç«¯ç³»ç»Ÿçš„æ‰§è¡Œè®¡åˆ’è¡¨ä¸­.ç¬¬ä¸€æ¬¡å»è°ƒç”¨å­˜å‚¨è¿‡ç¨‹çš„æ—¶å€™</p>
<p>ä¼šå¯¹sqlè¿›è¡Œé¢„ç¼–è¯‘å¹¶ä¸”è¿›è¡Œä¿å­˜.ç¬¬äºŒæ¬¡å†è°ƒç”¨çš„æ—¶å€™,çœå»äº†sqlè¯­å¥çš„ç¼–è¯‘çš„è¿‡ç¨‹.</p>
<p><strong>å­˜å‚¨è¿‡ç¨‹å¯ä»¥åšåˆ°æ ‡å‡†çš„ç»„ä»¶ç¼–ç¨‹[å°è£…sqlè¯­å¥]</strong></p>
</blockquote>
<h2 id="è¯­æ³•-1"><a href="#è¯­æ³•-1" class="headerlink" title="è¯­æ³•"></a>è¯­æ³•</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">-- åˆ é™¤å­˜å‚¨è¿‡ç¨‹</span><br><span class="line">drop procedure å­˜å‚¨è¿‡ç¨‹å;</span><br><span class="line"></span><br><span class="line">-- åˆ›å»ºå­˜å‚¨è¿‡ç¨‹</span><br><span class="line">delimiter //</span><br><span class="line">create procedure å­˜å‚¨è¿‡ç¨‹å([in|out] [å‚æ•°åˆ—è¡¨])</span><br><span class="line">begin</span><br><span class="line">	-- è¿‡ç¨‹ä½“</span><br><span class="line">end //</span><br><span class="line">delimiter ;</span><br></pre></td></tr></table></figure>

<h2 id="ä½“éªŒ"><a href="#ä½“éªŒ" class="headerlink" title="ä½“éªŒ"></a>ä½“éªŒ</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">-- æŠŠs_empè¡¨ä¸­çš„å‘˜å·¥çš„å¹³å‡è–ªèµ„çš„sqlé¢„ç¼–è¯‘å¥½æ”¾åœ¨mysql-serverç«¯</span><br><span class="line">-- select avg(salary) from s_emp;</span><br><span class="line">-- è¯¥æ¡sqlç»å¸¸ä¼šè¢«é¢‘ç¹è°ƒç”¨/æˆ–è€…è¯¥æ¡sqlå†™æ³•æ¯”è¾ƒå¤æ‚.</span><br><span class="line">-- è€ƒè™‘æŠŠè¿™æ¡sqlå°è£…åˆ° - å­˜å‚¨è¿‡ç¨‹</span><br><span class="line"></span><br><span class="line">drop procedure sal_pro;</span><br><span class="line"></span><br><span class="line">delimiter //</span><br><span class="line">create procedure sal_pro()</span><br><span class="line">begin</span><br><span class="line">	-- å°è£…sqlè¯­å¥</span><br><span class="line">	select avg(salary) from s_emp;</span><br><span class="line">end //</span><br><span class="line"></span><br><span class="line">delimiter ;</span><br><span class="line"></span><br><span class="line">-- é¢„ç¼–è¯‘sqlè¯­å¥ - åˆ›å»ºå­˜å‚¨è¿‡ç¨‹çš„æ—¶å€™</span><br><span class="line">-- mysql-serverä¼šå¯¹è¿™ä¸ªå­˜å‚¨è¿‡ç¨‹ä¸­çš„sqlè¯­å¥è¿›è¡Œç¼–è¯‘,è§£æ,å°†sqlè¯­å¥çš„ç¼–è¯‘çš„ç»“æœè¿›è¡Œä¿å­˜.</span><br><span class="line">-- åç»­çš„æ¯æ¬¡è°ƒç”¨çš„è¿‡ç¨‹ä¸­.åº”è¯¥ä¸ä¼šå†å¯¹è¿™æ¡sqlè¯­å¥è¿›è¡Œç¼–è¯‘äº†.</span><br><span class="line"></span><br><span class="line">-- ä½¿ç”¨callå…³é”®å­—æ¥è°ƒç”¨,ä¸éœ€è¦ç¼–è¯‘</span><br><span class="line">-- ç¬¬ä¸€æ¬¡è°ƒç”¨,</span><br><span class="line">call sal_pro();</span><br><span class="line"></span><br><span class="line">-- ç¬¬äºŒæ¬¡è°ƒç”¨</span><br><span class="line">-- mysql-serverä¸éœ€è¦å¯¹è¿™ä¸ªå­˜å‚¨è¿‡ç¨‹ä¸­çš„sqlè¯­å¥å†å»è¿›è¡Œç¼–è¯‘äº†[çœç•¥äº†],ç›´æ¥è¿”å›ä¹‹å‰ä¿å­˜çš„ç»“æœ.</span><br><span class="line">call sal_pro();</span><br></pre></td></tr></table></figure>

<h2 id="è¾“å…¥å’Œè¾“å‡º"><a href="#è¾“å…¥å’Œè¾“å‡º" class="headerlink" title="è¾“å…¥å’Œè¾“å‡º"></a>è¾“å…¥å’Œè¾“å‡º</h2><blockquote>
<ol>
<li>in</li>
<li>out</li>
<li>inout</li>
</ol>
</blockquote>
<h3 id="inè¾“å…¥"><a href="#inè¾“å…¥" class="headerlink" title="inè¾“å…¥"></a>inè¾“å…¥</h3><blockquote>
<p>åˆ›å»ºå­˜å‚¨è¿‡ç¨‹çš„æ—¶å€™,å‚æ•°åˆ—è¡¨.ç¡®è®¤è¿™ä¸ªå‚æ•°åˆ°åº•æ˜¯ç”¨æ¥æ¥å—å‚æ•°çš„,è¿˜æ˜¯ç”¨æ¥è¿”å›å­˜å‚¨è¿‡ç¨‹çš„ç»“æœçš„.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">drop procedure in_pro;</span><br><span class="line">delimiter //</span><br><span class="line">create procedure in_pro(in a int)</span><br><span class="line">begin</span><br><span class="line">	-- System.out.println(a);</span><br><span class="line">	select a;</span><br><span class="line">	-- å¯¹aé‡æ–°èµ‹å€¼</span><br><span class="line">	set a = 10;</span><br><span class="line">	select a;</span><br><span class="line">end //</span><br><span class="line">delimiter ;</span><br><span class="line"></span><br><span class="line">-- è°ƒç”¨</span><br><span class="line">-- ç›´æ¥ä¼ å…¥ä¸€ä¸ªå­—é¢é‡</span><br><span class="line">call in_pro(20);</span><br><span class="line"></span><br><span class="line">-- æµ‹è¯•ä¸€ä¸‹ä½¿ç”¨å…¨å±€å˜é‡è¿›è¡Œä¼ å‚</span><br><span class="line">set @i = 20;</span><br><span class="line">call in_pro(@i);</span><br></pre></td></tr></table></figure>
</blockquote>
<h3 id="outè¾“å‡º"><a href="#outè¾“å‡º" class="headerlink" title="outè¾“å‡º"></a>outè¾“å‡º</h3><blockquote>
<p>å¦‚æœå‚æ•°æ˜¯ä½¿ç”¨outæ¥ä¿®é¥°çš„,å®ƒæ˜¯ä¸èƒ½å¤Ÿç”¨æ¥ä¿å­˜æ¥å—åˆ°çš„æ•°æ®çš„</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">drop procedure out_pro;</span><br><span class="line">delimiter //</span><br><span class="line">create procedure out_pro(out a int)</span><br><span class="line">begin</span><br><span class="line">	-- aæ˜¯ç”¨outä¿®é¥°çš„,æ‰€ä»¥ä¸ºnull</span><br><span class="line">	select a;</span><br><span class="line">	-- aæ˜¯out - å­˜å‚¨è¿‡ç¨‹è¿”å›å‡ºå»çš„æ•°æ®</span><br><span class="line">	set a = 10;</span><br><span class="line">end //</span><br><span class="line">delimiter ;</span><br><span class="line"></span><br><span class="line">-- æŠ¥é”™,å¦‚æœå‚æ•°æ˜¯outä¿®é¥°çš„,é‚£ä¹ˆæ˜¯ä¸èƒ½å¤Ÿç›´æ¥ä¼ å…¥ä¸€ä¸ªå­—é¢é‡çš„</span><br><span class="line">-- call out_pro(100);</span><br><span class="line"></span><br><span class="line">-- å¦‚æœæ˜¯outä¿®é¥°çš„,è°ƒç”¨å­˜å‚¨è¿‡ç¨‹,åªèƒ½ä¼ å…¥ä¸€ä¸ªå…¨å±€å˜é‡</span><br><span class="line">set @i=100;</span><br><span class="line">call out_pro(@i);</span><br><span class="line">+------+</span><br><span class="line">| a    |</span><br><span class="line">+------+</span><br><span class="line">| NULL |</span><br><span class="line">+------+</span><br><span class="line">é‡Œé¢çš„aæ˜¯æ²¡æœ‰ç»‘å®šåˆ°ä½ çš„100 - åŸå› å°±æ˜¯å› ä¸ºaæ˜¯ä½¿ç”¨outä¿®é¥°çš„.ä¸èƒ½æ¥å—å‚æ•°</span><br><span class="line"></span><br><span class="line">select @i;</span><br><span class="line">+------+</span><br><span class="line">| @i   |</span><br><span class="line">+------+</span><br><span class="line">|   10 |</span><br><span class="line">+------+</span><br></pre></td></tr></table></figure>
</blockquote>
<h2 id="ç»ƒä¹ -å°è£…å•ä¸ªç»“æœé›†"><a href="#ç»ƒä¹ -å°è£…å•ä¸ªç»“æœé›†" class="headerlink" title="ç»ƒä¹  - å°è£…å•ä¸ªç»“æœé›†"></a>ç»ƒä¹  - å°è£…å•ä¸ªç»“æœé›†</h2><blockquote>
<ol>
<li><p>æ ¹æ®å‘˜å·¥çš„idæ¥è¿”å›å‘˜å·¥çš„åç§°,è–ªèµ„ - sqlè¯­å¥ - å°è£…</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">drop procedure emp_pro;</span><br><span class="line">delimiter //</span><br><span class="line">create procedure emp_pro(in eid int(7),out fname varchar(25),out sal float(11,2))</span><br><span class="line">begin</span><br><span class="line">	select first_name into fname from s_emp where id=eid;</span><br><span class="line">	select salary into sal from s_emp where id = eid;</span><br><span class="line">end //</span><br><span class="line">delimiter ;</span><br><span class="line">         </span><br><span class="line">-- å¦‚æœå‚æ•°æ˜¯outä¿®é¥°çš„,å¿…é¡»åªèƒ½ä¼ å…¥å…¨å±€å˜é‡[ä½œç”¨å°±æ˜¯æ¥ä¿å­˜å­˜å‚¨è¿‡ç¨‹ä¸€äº›æ‰§è¡Œç»“æœçš„å€¼]</span><br><span class="line">call emp_pro(1,@fname,@sal);</span><br><span class="line">         </span><br><span class="line">select @fname;</span><br><span class="line">select @sal;</span><br></pre></td></tr></table></figure></li>
</ol>
</blockquote>
<blockquote>
<ol start="2">
<li><p>ç¬¬äºŒç§å†™æ³• - é’ˆå¯¹çš„æ˜¯å•ä¸ªç»“æœé›†çš„å†™æ³•</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">drop procedure emp_pro;</span><br><span class="line">delimiter //</span><br><span class="line">create procedure emp_pro(in eid int(7),out fname varchar(25),out sal float(11,2))</span><br><span class="line">begin</span><br><span class="line">	select first_name,salary into fname,sal from s_emp where id=eid;</span><br><span class="line">end //</span><br><span class="line">delimiter ;</span><br><span class="line">         </span><br><span class="line">-- å¦‚æœå‚æ•°æ˜¯outä¿®é¥°çš„,å¿…é¡»åªèƒ½ä¼ å…¥å…¨å±€å˜é‡[ä½œç”¨å°±æ˜¯æ¥ä¿å­˜å­˜å‚¨è¿‡ç¨‹ä¸€äº›æ‰§è¡Œç»“æœçš„å€¼]</span><br><span class="line">call emp_pro(1,@fname,@sal);</span><br><span class="line">         </span><br><span class="line">select @fname;</span><br><span class="line">select @sal;</span><br></pre></td></tr></table></figure></li>
</ol>
</blockquote>
<h2 id="ç»ƒä¹ -å°è£…çš„æ˜¯å¤šè¡Œç»“æœé›†"><a href="#ç»ƒä¹ -å°è£…çš„æ˜¯å¤šè¡Œç»“æœé›†" class="headerlink" title="ç»ƒä¹  - å°è£…çš„æ˜¯å¤šè¡Œç»“æœé›†"></a>ç»ƒä¹  - å°è£…çš„æ˜¯å¤šè¡Œç»“æœé›†</h2><blockquote>
<p>æ‰¾å‡ºå¤§äºæŸä¸ªidçš„first_nameå’Œsalary - ç»“æœå¯èƒ½æ˜¯å¤šè¡Œçš„</p>
<ol>
<li><p>ç°åœ¨å·²ç»è¢«å¼ƒç”¨çš„æ¸¸æ ‡ - æ€§èƒ½å¾ˆä½ä¸‹.</p>
</li>
<li><p><strong>éœ€è¦å®šä¹‰ç¬¬ä¸‰æ–¹è¡¨æ¥å­˜å‚¨æˆ‘ä»¬çš„å¤šè¡Œç»“æœé›†</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">1. æ ¹æ®å…·ä½“çš„æŸ¥è¯¢çš„ä¸šåŠ¡æ¥æ„å»ºç¬¬ä¸‰æ–¹è¡¨ </span><br><span class="line">   ä¸šåŠ¡ä¸­æœ€ç»ˆæŸ¥è¯¢å‡ºæ¥çš„æ•°æ®æ­£å¥½éƒ½åœ¨s_empè¡¨ä¸­.</span><br><span class="line">            </span><br><span class="line">   -- ä»…ä»…ä¿ç•™ç»“æ„,ä½†æ˜¯ä¸ä¿ç•™ç»“æœ</span><br><span class="line">   create table s_emp_pro select first_name,salary from s_emp where 1=2;</span><br><span class="line">            </span><br><span class="line">2. æ¯”å¦‚åˆ†ç»„ç»Ÿè®¡,æŸ¥è¯¢å‡ºæ¥çš„æ•°æ®ä¸åœ¨æŸä¸ªè¡¨ä¸­å­˜åœ¨ - ä¸€å®šè¦æ ¹æ®å…·ä½“çš„æŸ¥è¯¢å‡ºæ¥çš„æ•°æ® - æ‰‹åŠ¨æ„å»ºä¸€å¼ è¡¨</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">drop procedure emp_pro;</span><br><span class="line">delimiter //</span><br><span class="line">create procedure emp_pro(in eid int(7))</span><br><span class="line">begin</span><br><span class="line">	-- insert into è¡¨å select è¯­å¥;</span><br><span class="line">	insert into s_emp_pro(first_name,salary) select first_name,salary from s_emp where id &gt;= eid;</span><br><span class="line">end //</span><br><span class="line">delimiter ;</span><br><span class="line">         </span><br><span class="line">-- å¦‚æœå‚æ•°æ˜¯outä¿®é¥°çš„,å¿…é¡»åªèƒ½ä¼ å…¥å…¨å±€å˜é‡[ä½œç”¨å°±æ˜¯æ¥ä¿å­˜å­˜å‚¨è¿‡ç¨‹ä¸€äº›æ‰§è¡Œç»“æœçš„å€¼]</span><br><span class="line">call emp_pro(20);</span><br></pre></td></tr></table></figure></li>
</ol>
</blockquote>
<h2 id="ç»ƒä¹ -å¸¦äº‹åŠ¡"><a href="#ç»ƒä¹ -å¸¦äº‹åŠ¡" class="headerlink" title="ç»ƒä¹  - å¸¦äº‹åŠ¡"></a>ç»ƒä¹  - å¸¦äº‹åŠ¡</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">-- è½¬è´¦åŠŸèƒ½,åŒæ—¶æˆåŠŸ,åŒæ—¶å¤±è´¥.</span><br><span class="line">drop procedure transfer_pro;</span><br><span class="line">delimiter //</span><br><span class="line">create procedure transfer_pro(in sid int(7),in tid int(7),in money double(7,2),in st int(7))</span><br><span class="line">begin</span><br><span class="line">	-- å®šä¹‰ä¸€ä¸ªå±€éƒ¨å˜é‡ - å±•ç¤ºä¿¡æ¯</span><br><span class="line">	declare msg varchar(20) default &#x27;0&#x27;;</span><br><span class="line">	-- æ‰‹åŠ¨å¼€å¯ä¸€ä¸ªäº‹åŠ¡</span><br><span class="line">	start transaction;</span><br><span class="line">	update account set balance = balance-money where id = sid;</span><br><span class="line">	-- æ¨¡æ‹Ÿä¸€ä¸ªå¼‚å¸¸</span><br><span class="line">	if st=1 then</span><br><span class="line">		set msg = &#x27;sorry,è½¬è´¦å¤±è´¥äº†!&#x27;;</span><br><span class="line">		rollback;</span><br><span class="line">	else</span><br><span class="line">		update account set balance = balance+money where id = tid;</span><br><span class="line">		-- æ‰‹åŠ¨æäº¤ä¸€ä¸ªäº‹åŠ¡</span><br><span class="line">		set msg = &#x27;good,è½¬è´¦æˆåŠŸäº†!&#x27;;</span><br><span class="line">		commit;</span><br><span class="line">	end if;</span><br><span class="line">	select msg;</span><br><span class="line">end //</span><br><span class="line">delimiter ;</span><br><span class="line"></span><br><span class="line">-- st=1,è¿›å…¥åˆ°å¼‚å¸¸å—çš„.</span><br><span class="line">call transfer_pro(1,2,1000.0,1);</span><br><span class="line"></span><br><span class="line">-- st=2,æ­£å¸¸æ‰§è¡Œè½¬è´¦çš„ä¸šåŠ¡åŠŸèƒ½</span><br><span class="line">call transfer_pro(1,2,1000.0,2);</span><br></pre></td></tr></table></figure>



<h1 id="è¯­å¥ä½¿ç”¨"><a href="#è¯­å¥ä½¿ç”¨" class="headerlink" title="è¯­å¥ä½¿ç”¨"></a>è¯­å¥ä½¿ç”¨</h1><h2 id="æ¡ä»¶åˆ†æ”¯è¯­å¥"><a href="#æ¡ä»¶åˆ†æ”¯è¯­å¥" class="headerlink" title="æ¡ä»¶åˆ†æ”¯è¯­å¥"></a>æ¡ä»¶åˆ†æ”¯è¯­å¥</h2><blockquote>
<ol>
<li><p>if .. then .. elseif .. then ..elseif.. then â€¦ else.. end if;</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">drop procedure if_pro;</span><br><span class="line">delimiter //</span><br><span class="line">create procedure if_pro(in a int)</span><br><span class="line">begin</span><br><span class="line">	declare msg varchar(20) default &#x27;&#x27;;</span><br><span class="line">	if a&gt;=90 then</span><br><span class="line">		set msg = &#x27;ä¼˜ç§€&#x27;;</span><br><span class="line">	elseif a&gt;=80 then</span><br><span class="line">		set msg = &#x27;è‰¯å¥½&#x27;;</span><br><span class="line">	else</span><br><span class="line">		set msg = &#x27;åŠæ ¼&#x27;;</span><br><span class="line">	end if;</span><br><span class="line">	select msg;</span><br><span class="line">end //</span><br><span class="line">delimiter ;</span><br><span class="line"></span><br><span class="line">call if_pro(85);</span><br></pre></td></tr></table></figure></li>
<li><p>case .. when .. then..elseâ€¦ end case</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">drop procedure case_pro;</span><br><span class="line">delimiter //</span><br><span class="line">create procedure case_pro(in a int)</span><br><span class="line">begin</span><br><span class="line">	declare msg varchar(20) default &#x27;&#x27;;</span><br><span class="line">	case a</span><br><span class="line">		when 1 then</span><br><span class="line">			set msg=&#x27;1&#x27;;</span><br><span class="line">		when 2 then</span><br><span class="line">			set msg = &#x27;2&#x27;;</span><br><span class="line">		else</span><br><span class="line">			set msg = &#x27;3&#x27;;</span><br><span class="line">	end case;</span><br><span class="line">	select msg;</span><br><span class="line">end //</span><br><span class="line">delimiter ;</span><br><span class="line">         </span><br><span class="line">call case_pro(2);</span><br></pre></td></tr></table></figure></li>
</ol>
</blockquote>
<h2 id="å¾ªç¯è¯­å¥"><a href="#å¾ªç¯è¯­å¥" class="headerlink" title="å¾ªç¯è¯­å¥"></a>å¾ªç¯è¯­å¥</h2><blockquote>
<ol>
<li><p>while .. do .. end while</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">drop procedure while_pro;</span><br><span class="line">delimiter //</span><br><span class="line">create procedure while_pro(in x int,out result int)</span><br><span class="line">begin</span><br><span class="line">	declare i int default 1;</span><br><span class="line">	declare sums int default 0;</span><br><span class="line">	while i&lt;=x do</span><br><span class="line">		set sums = sums + i;</span><br><span class="line">		set i = i+1;</span><br><span class="line">	end while;</span><br><span class="line">	-- resultä¿®é¥°æˆout =return result</span><br><span class="line">	set result = sums;</span><br><span class="line">end //</span><br><span class="line">delimiter ;</span><br><span class="line">         </span><br><span class="line">-- outä¿®é¥°çš„,åªèƒ½ä¼ å…¥å…¨å±€å˜é‡</span><br><span class="line">call while_pro(100,@result);</span><br><span class="line">         </span><br><span class="line">select @result;</span><br></pre></td></tr></table></figure></li>
</ol>
</blockquote>
<blockquote>
<ol start="2">
<li><p>loop â€¦ end loop</p>
<p>ç±»ä¼¼äºwhile(true)</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">-- æ±‚1~xç»“æŸ</span><br><span class="line">drop procedure loop_pro;</span><br><span class="line">delimiter //</span><br><span class="line">create procedure loop_pro(in x int,out result int)</span><br><span class="line">begin</span><br><span class="line">	declare i int default 1;</span><br><span class="line">	set result=0;</span><br><span class="line">	success:loop</span><br><span class="line">		if i&gt;x then</span><br><span class="line">			-- æ‰“ç ´å¾ªç¯</span><br><span class="line">			-- iterate success; -- conintue</span><br><span class="line">			leave success; </span><br><span class="line">		end if;</span><br><span class="line">		set result = result + i;</span><br><span class="line">		set i = i + 1;</span><br><span class="line">	end loop;</span><br><span class="line">end //</span><br><span class="line">delimiter ;</span><br><span class="line"></span><br><span class="line">call loop_pro(100,@result);</span><br><span class="line">select @result;</span><br></pre></td></tr></table></figure></li>
<li><p>repeat .. until .. end repeat</p>
<p>ç±»ä¼¼äºjava-&gt; do..while</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">drop procedure repeat_pro;</span><br><span class="line">delimiter //</span><br><span class="line">create procedure repeat_pro(in x int)</span><br><span class="line">begin</span><br><span class="line">	repeat</span><br><span class="line">		set x = x + 1;</span><br><span class="line">		select x;</span><br><span class="line">	until x&gt;0</span><br><span class="line">	end repeat;</span><br><span class="line">end //</span><br><span class="line">delimiter ;</span><br><span class="line">         </span><br><span class="line">call repeat_pro(-1);</span><br></pre></td></tr></table></figure></li>
</ol>
</blockquote>
<h1 id="æ€»ç»“å‡½æ•°å’Œå­˜å‚¨è¿‡ç¨‹çš„åŒºåˆ«"><a href="#æ€»ç»“å‡½æ•°å’Œå­˜å‚¨è¿‡ç¨‹çš„åŒºåˆ«" class="headerlink" title="æ€»ç»“å‡½æ•°å’Œå­˜å‚¨è¿‡ç¨‹çš„åŒºåˆ«"></a>æ€»ç»“å‡½æ•°å’Œå­˜å‚¨è¿‡ç¨‹çš„åŒºåˆ«</h1><blockquote>
<ol>
<li>å®šä¹‰å‡½æ•°çš„æ—¶å€™,å¿…é¡»æŒ‡å®šreturns è¿”å›ç±»å‹.å®šä¹‰å­˜å‚¨è¿‡ç¨‹çš„æ—¶å€™ä¸éœ€è¦ä½¿ç”¨returns è¿”å›ç±»å‹</li>
<li>å‡½æ•°ä½“ä¸­å¿…é¡»è¦æœ‰returnè¯­å¥+è¿”å›ç»“æœ,ä½†æ˜¯å­˜å‚¨è¿‡ç¨‹å¯ä»¥æ²¡æœ‰returnè¯­å¥</li>
<li>å‡½æ•°çš„è°ƒç”¨ç”¨selectå…³é”®å­—,å­˜å‚¨è¿‡ç¨‹è°ƒç”¨ä½¿ç”¨callå…³é”®å­—</li>
<li>å­˜å‚¨è¿‡ç¨‹æ›´åŠ ä¾§é‡äºå°è£…ä»¥åŠé¢„ç¼–è¯‘sqlè¯­å¥,æé«˜sqlè¯­å¥çš„å¤ç”¨æ€§.</li>
<li>å­˜å‚¨è¿‡ç¨‹ä¸­æ˜¯ä½¿ç”¨inæ¥æ¥å—å‚æ•°,outæ¥è¿”å›ç»“æœ.</li>
</ol>
</blockquote>
<h1 id="è§¦å‘å™¨"><a href="#è§¦å‘å™¨" class="headerlink" title="è§¦å‘å™¨"></a>è§¦å‘å™¨</h1><blockquote>
<p>åœ¨mysqlä¸­,å½“æˆ‘ä»¬æ‰§è¡Œä¸€äº›æ“ä½œçš„æ—¶å€™[æ¯”å¦‚dmlæ“ä½œ - è§¦å‘å™¨èƒ½å¤Ÿè§¦å‘çš„äº‹ä»¶],ä¸€æ—¦äº‹ä»¶è¢«è§¦å‘,å°±ä¼šæ‰§è¡Œä¸€æ®µç¨‹åº</p>
<p>è§¦å‘å™¨çš„æœ¬è´¨ä¸Šå°±æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„å­˜å‚¨è¿‡ç¨‹</p>
</blockquote>
<h2 id="åˆ†ç±»"><a href="#åˆ†ç±»" class="headerlink" title="åˆ†ç±»"></a>åˆ†ç±»</h2><blockquote>
<ol>
<li>afterè§¦å‘å™¨ - åœ¨è§¦å‘æ¡ä»¶ä¹‹åæ‰§è¡Œ</li>
<li>beforeè§¦å‘å™¨ - åœ¨è§¦å‘æ¡ä»¶ä¹‹å‰æ‰§è¡Œ</li>
</ol>
</blockquote>
<h2 id="è¯­æ³•-2"><a href="#è¯­æ³•-2" class="headerlink" title="è¯­æ³•"></a>è¯­æ³•</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">-- åˆ é™¤è§¦å‘å™¨</span><br><span class="line">drop trigger è§¦å‘å™¨åç§°;</span><br><span class="line">delimiter //</span><br><span class="line">create trigger è§¦å‘å™¨åç§°</span><br><span class="line">è§¦å‘æ—¶æœº(after,before) è§¦å‘äº‹ä»¶(insert,delete,update) on è§¦å‘å™¨äº‹ä»¶æ‰€åœ¨çš„è¡¨å</span><br><span class="line">for each row</span><br><span class="line">-- è§¦å‘å™¨äº‹ä»¶ç¨‹åº</span><br><span class="line">begin</span><br><span class="line">	</span><br><span class="line">end //</span><br><span class="line">delimiter ;</span><br></pre></td></tr></table></figure>

<h2 id="ä½“éªŒ-1"><a href="#ä½“éªŒ-1" class="headerlink" title="ä½“éªŒ"></a>ä½“éªŒ</h2><blockquote>
<ol>
<li><p>åˆ é™¤accountè¡¨ä¸­çš„ä»»æ„ä¸€æ¡æ•°æ®çš„æ—¶å€™[è§¦å‘äº‹ä»¶],å¹¶ä¸”æŠŠè¿™æ¡æ•°æ®æ”¾å…¥åˆ°å¤‡ä»½è¡¨ä¸­acc_copy</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">-- åˆ›å»ºå¤‡ä»½è¡¨</span><br><span class="line">create table acc_copy select * from account where 1=2;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">drop trigger acc_tri;</span><br><span class="line">delimiter //</span><br><span class="line">create trigger acc_tri</span><br><span class="line">after delete on account</span><br><span class="line">for each row</span><br><span class="line">begin</span><br><span class="line">	-- old.åˆ—å - åˆšåˆšåˆ é™¤çš„é‚£æ¡æ•°æ®</span><br><span class="line">	insert into acc_copy values(old.id,old.name,old.balance);</span><br><span class="line">end //</span><br><span class="line">delimiter ;</span><br><span class="line">   </span><br><span class="line">-- è§¦å‘å™¨æ˜¯é‡åˆ°è§¦å‘çš„äº‹ä»¶æ‰ä¼šæ‰§è¡Œçš„.ä¸æ˜¯æˆ‘ä»¬æ‰‹åŠ¨å»è°ƒç”¨çš„.</span><br><span class="line">delete from account where id=1;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">mysql&gt; select * from account;</span><br><span class="line">   +----+------+----------+</span><br><span class="line">   | id | name | balance  |</span><br><span class="line">   +----+------+----------+</span><br><span class="line">   |  2 | tom  | 10000.00 |</span><br><span class="line">   |  3 | jack |  9000.00 |</span><br><span class="line">   |  4 | ss   |  9000.00 |</span><br><span class="line">   |  5 | ss2  |  9000.00 |</span><br><span class="line">   +----+------+----------+</span><br><span class="line">   4 rows in set (0.00 sec)</span><br><span class="line"></span><br><span class="line">   mysql&gt; select * from acc_copy;</span><br><span class="line">   +----+-------+---------+</span><br><span class="line">   | id | name  | balance |</span><br><span class="line">   +----+-------+---------+</span><br><span class="line">   |  1 | admin | 8000.00 |</span><br><span class="line">   +----+-------+---------+</span><br><span class="line">   1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure></li>
<li><p>å¦‚æœè¡¨å’Œè¡¨ä¹‹é—´å­˜åœ¨çº¦æŸå…³ç³»,æ¯”å¦‚1:N,æ— è®ºæ˜¯åœ¨dropæˆ–è€…deleteçš„æ—¶å€™.å¿…é¡»è¦å…ˆåˆ é™¤å¤šçš„ä¸€æ–¹,ç„¶åå†åˆ é™¤ä¸€çš„ä¸€æ–¹</p>
<p>å¿…é¡»å…ˆæŠŠä¸€çš„ä¸€æ–¹çš„æ‰€æœ‰å­è®°å½•å…¨éƒ¨åˆ é™¤å®Œæ¯•,æ‰èƒ½åˆ é™¤ä¸€çš„ä¸€æ–¹</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">drop table tri_cus;</span><br><span class="line">drop table tri_ord;</span><br><span class="line"></span><br><span class="line">create table tri_cus(</span><br><span class="line">	id int(7) primary key,</span><br><span class="line">  name varchar(20)</span><br><span class="line">);</span><br><span class="line">insert into tri_cus values(1,&#x27;admin&#x27;);</span><br><span class="line">insert into tri_cus values(2,&#x27;tom&#x27;);</span><br><span class="line"></span><br><span class="line">create table tri_ord(</span><br><span class="line">	id int(7) primary key,</span><br><span class="line">  ord_no varchar(20),</span><br><span class="line">  cus_id int(7),</span><br><span class="line">  foreign key(cus_id) references tri_cus(id)</span><br><span class="line">);</span><br><span class="line">insert into tri_ord values(1,&#x27;1001&#x27;,1);</span><br><span class="line">insert into tri_ord values(2,&#x27;1002&#x27;,1);</span><br><span class="line">insert into tri_ord values(3,&#x27;1003&#x27;,2);</span><br><span class="line"></span><br><span class="line">-- å¤–é”®çº¦æŸå­˜åœ¨çš„åŸå› </span><br><span class="line">mysql&gt; delete from tri_cus where id=1;</span><br><span class="line">ERROR 1451 (23000): Cannot delete or update a parent row: a foreign key constraint fails (`j03s`.`tri_ord`, CONSTRAINT `tri_ord_ibfk_1` FOREIGN KEY (`cus_id`) REFERENCES `tri_cus` (`id`))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">-- åˆ é™¤å®¢æˆ·ä¹‹å‰,åº”è¯¥å…ˆåˆ é™¤è®¢å•</span><br><span class="line">drop trigger cus_tri;</span><br><span class="line">delimiter //</span><br><span class="line">create trigger cus_tri</span><br><span class="line">before delete on tri_cus</span><br><span class="line">for each row</span><br><span class="line">begin</span><br><span class="line">	-- å…ˆå»åˆ é™¤è¿™ä¸ªå®¢æˆ·çš„å­è®°å½•</span><br><span class="line">	delete from tri_ord where cus_id=old.id;</span><br><span class="line">end //</span><br><span class="line">delimiter ;</span><br><span class="line"></span><br><span class="line">mysql&gt; delete from tri_cus where id=1;</span><br><span class="line"></span><br><span class="line">mysql&gt; select * from tri_cus;</span><br><span class="line">+----+------+</span><br><span class="line">| id | name |</span><br><span class="line">+----+------+</span><br><span class="line">|  2 | tom  |</span><br><span class="line">+----+------+</span><br><span class="line">1 row in set (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; select * from tri_ord;</span><br><span class="line">+----+--------+--------+</span><br><span class="line">| id | ord_no | cus_id |</span><br><span class="line">+----+--------+--------+</span><br><span class="line">|  3 | 1003   |      2 |</span><br><span class="line">+----+--------+--------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure></li>
</ol>
</blockquote>
<blockquote>
<ol start="3">
<li><p>oracleæ•°æ®åº“ä¸­è¿˜ä¼šå¤šä¸€ä¸ªè‡ªæ£€çº¦æŸ[è‡ªå®šä¹‰æ£€æµ‹],checkçº¦æŸ</p>
<p>ä½†æ˜¯Mysqlä¸­æ˜¯ä¸å­˜åœ¨checkçº¦æŸ.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">-- oracle - ä½¿ç”¨checkçº¦æŸ</span><br><span class="line">create table ckt(</span><br><span class="line">	id int(7) primary key,</span><br><span class="line">  age int(1) check(age&gt;0 and age&lt;100)</span><br><span class="line">)</span><br><span class="line">-- æ’å…¥æ•°æ®çš„æ—¶å€™,ageæ’å…¥çš„å€¼åªèƒ½åœ¨checkçº¦æŸè‡ªå®šä¹‰çš„è§„åˆ™ä¹‹å†…,å¦åˆ™æ’å…¥å¤±è´¥.</span><br><span class="line">   </span><br><span class="line">-- é¢è¯•é¢˜ - mysqlä¸­å¦‚ä½•å®ç°oracleæ•°æ®åº“ä¸­çš„checkè‡ªæ£€çº¦æŸçš„åŠŸèƒ½.</span><br><span class="line">-- åœ¨æ‰§è¡Œinsertçš„æ—¶å€™,å¯¹æŸäº›æ•°æ®è¿›è¡Œè¿›ä¸€æ­¥çš„æ ¡éªŒ - è§¦å‘å™¨</span><br><span class="line">create table ckt(</span><br><span class="line">	id int(7) primary key,</span><br><span class="line">  age int(1)</span><br><span class="line">);</span><br><span class="line">   </span><br><span class="line">drop trigger ckt_tri;</span><br><span class="line">delimiter //</span><br><span class="line">create trigger ckt_tri</span><br><span class="line">before insert on ckt</span><br><span class="line">for each row</span><br><span class="line">begin</span><br><span class="line">	-- å¯¹æ–°æ’å…¥çš„æ•°æ®è¿›è¡Œä¸€ä¸ªæ ¡éªŒ</span><br><span class="line">	-- old.åˆ—è¿˜æ˜¯ä½¿ç”¨new.oldåˆ— - çœ‹è¯¥åˆ—åœ¨è¡¨ä¸­æœ‰æ²¡æœ‰.</span><br><span class="line">	if new.age&lt;18 then</span><br><span class="line">		signal sqlstate &#x27;HY000&#x27; set message_text=&#x27;ageä¸åˆæ³•&#x27;;</span><br><span class="line">	end if;</span><br><span class="line">end //</span><br><span class="line">delimiter ;</span><br><span class="line">   </span><br><span class="line">insert into ckt values(1,20);</span><br><span class="line">   </span><br><span class="line">insert into ckt values(2,17);</span><br><span class="line">mysql&gt; insert into ckt values(2,17);</span><br><span class="line">ERROR 1644 (HY000): ageä¸åˆæ³•</span><br></pre></td></tr></table></figure></li>
</ol>
</blockquote>
<h1 id="æ•°æ®åº“ä¼˜åŒ–"><a href="#æ•°æ®åº“ä¼˜åŒ–" class="headerlink" title="æ•°æ®åº“ä¼˜åŒ–"></a>æ•°æ®åº“ä¼˜åŒ–</h1><ul>
<li><p>åˆ†è¡¨/åˆ†åº“</p>
</li>
<li><p>ä¸»ä»å¤åˆ¶</p>
</li>
<li><p><em><strong>sqlä¼˜åŒ–æ“ä½œ</strong></em></p>
<ul>
<li><p>selectæŸ¥è¯¢åˆ—ä¸è¦å‡ºç° *</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">å°½é‡è¿˜æ˜¯select å…·ä½“çš„åˆ—åç§°,</span><br><span class="line">select * æ•ˆç‡ä½äºselect å…·ä½“çš„åˆ— - &quot;äº‰è®®&quot;</span><br><span class="line"></span><br><span class="line">ä¸ºäº†æ•°æ®çš„å®‰å…¨.</span><br></pre></td></tr></table></figure></li>
<li><p>ä¸é¼“åŠ±ä½¿ç”¨order byè¯­å¥</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mysqlä¸­çš„order byæ€§èƒ½æ˜¯åŠå…¶ä½ä¸‹,ä¸šåŠ¡ä¸­å¦‚æœé‡åˆ°æ’åº.</span><br><span class="line">å»ºè®®æ˜¯å…ˆæŠŠæ•°æ®å–å‡ºæ¥æ”¾å…¥åˆ°javaå†…å­˜ä¸­ - é›†åˆä¸­.</span><br><span class="line"></span><br><span class="line">å†é€šè¿‡javaä»£ç çš„é›†åˆæ’åºçš„å„ç§æ–¹å¼æ¥è¿›è¡Œå¯¹æ•°æ®çš„æ’åº.</span><br></pre></td></tr></table></figure></li>
<li><p>æŸ¥è¯¢å”¯ä¸€çš„éç´¢å¼•åˆ—çš„å€¼çš„æ—¶å€™,é…åˆlimit 1è¯­å¥,é¿å…å…¨è¡¨æ‰«æ.</p>
</li>
<li><p>ç´¢å¼•ä¼˜åŒ–</p>
</li>
</ul>
</li>
</ul>
<h2 id="sqlä¼˜åŒ–-è‡³å°‘èƒŒ10æ¡"><a href="#sqlä¼˜åŒ–-è‡³å°‘èƒŒ10æ¡" class="headerlink" title="sqlä¼˜åŒ– - è‡³å°‘èƒŒ10æ¡"></a>sqlä¼˜åŒ– - è‡³å°‘èƒŒ10æ¡</h2><ol>
<li><p>MySQLå¦‚ä½•æ‰§è¡ŒåŒºåˆ†å¤§å°å†™çš„å­—ç¬¦ä¸²æ¯”è¾ƒï¼Ÿ</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select * from s_emp where binary first_name = &#x27;Carmen&#x27;;</span><br></pre></td></tr></table></figure></li>
<li><p>åº”å°½é‡é¿å…åœ¨ where å­å¥ä¸­ä½¿ç”¨!=æˆ–&lt;&gt;æ“ä½œç¬¦ï¼Œå¦åˆ™å°†å¼•æ“è¿›è¡Œå…¨è¡¨æ‰«æã€‚</p>
</li>
<li><p>å¯¹æŸ¥è¯¢è¿›è¡Œä¼˜åŒ–ï¼Œåº”å°½é‡é¿å…å…¨è¡¨æ‰«æï¼Œé¦–å…ˆåº”è€ƒè™‘åœ¨whereåŠorder byæ¶‰åŠçš„åˆ—ä¸Šå»ºç«‹ç´¢å¼•ã€‚</p>
</li>
<li><p>åº”å°½é‡é¿å…åœ¨whereå­å¥ä¸­å¯¹å­—æ®µè¿›è¡Œnot nullå€¼åˆ¤æ–­ï¼Œå¦åˆ™å°†å¯¼è‡´å¼•æ“æ”¾å¼ƒä½¿ç”¨ç´¢å¼•è€Œè¿›è¡Œå…¨è¡¨æ‰«æ</p>
</li>
<li><p>å°½é‡é¿å…åœ¨whereå­å¥ä¸­ä½¿ç”¨oræ¥è¿æ¥æ¡ä»¶ï¼Œå¦åˆ™å°†å¯¼è‡´å¼•æ“æ”¾å¼ƒä½¿ç”¨ç´¢å¼•è€Œè¿›è¡Œå…¨è¡¨æ‰«æï¼Œå¦‚ï¼š</p>
</li>
</ol>
<p>â€‹    select id from t where num=10 or num=20<br>â€‹    å¯ä»¥è¿™æ ·æŸ¥è¯¢ï¼š<br>â€‹    <em>sel</em>ect id from t where num=10<br>â€‹    <em>union</em><br>â€‹    select id from t where num=20</p>
<ol start="6">
<li><p>ä¸‹é¢çš„æŸ¥è¯¢ä¹Ÿå°†å¯¼è‡´å…¨è¡¨æ‰«æï¼š(ä¸èƒ½å‰ç½®ç™¾åˆ†å·)</p>
<p>select id from t where name like â€˜c%â€™;//èµ°ç´¢å¼•.</p>
</li>
<li><p>not inä¹Ÿè¦æ…ç”¨ï¼Œå¦åˆ™ä¼šå¯¼è‡´å…¨è¡¨æ‰«æï¼Œå¦‚ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">å¯¹äºè¿ç»­çš„æ•°å€¼ï¼Œèƒ½ç”¨betweenå°±ä¸è¦ç”¨inäº†ï¼š</span><br><span class="line">select id from t where num between 1 and 3</span><br></pre></td></tr></table></figure></li>
<li><p>å°½é‡é¿å…åœ¨whereå­å¥ä¸­å¯¹å­—æ®µè¿›è¡Œè¡¨è¾¾å¼æ“ä½œï¼Œè¿™å°†å¯¼è‡´å¼•æ“æ”¾å¼ƒä½¿ç”¨ç´¢å¼•è€Œè¿›è¡Œå…¨è¡¨æ‰«æã€‚å¦‚ï¼š<br>select id from t where num/2=100</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">åº”æ”¹ä¸º:</span><br><span class="line">select id from t where num=100*2</span><br></pre></td></tr></table></figure></li>
<li><p>åº”å°½é‡é¿å…åœ¨whereå­å¥ä¸­å¯¹å­—æ®µè¿›è¡Œå‡½æ•°æ“ä½œï¼Œè¿™å°†å¯¼è‡´å¼•æ“æ”¾å¼ƒä½¿ç”¨ç´¢å¼•è€Œè¿›è¡Œå…¨è¡¨æ‰«æã€‚å¦‚ï¼š</p>
</li>
<li><p>ä¸è¦åœ¨whereå­å¥ä¸­çš„â€œ=â€å·¦è¾¹è¿›è¡Œå‡½æ•°ã€ç®—æœ¯è¿ç®—æˆ–å…¶ä»–è¡¨è¾¾å¼è¿ç®—ï¼Œå¦åˆ™ç³»ç»Ÿå°†å¯èƒ½æ— æ³•æ­£ç¡®ä½¿ç”¨ç´¢å¼•ã€‚</p>
</li>
<li><p>åœ¨ä½¿ç”¨ç´¢å¼•å­—æ®µä½œä¸ºæ¡ä»¶æ—¶ï¼Œå¦‚æœè¯¥ç´¢å¼•æ˜¯å¤åˆç´¢å¼•ï¼Œé‚£ä¹ˆå¿…é¡»ä½¿ç”¨åˆ°è¯¥ç´¢å¼•ä¸­çš„ç¬¬ä¸€ä¸ªå­—æ®µä½œä¸ºæ¡ä»¶æ—¶æ‰èƒ½ä¿è¯ç³»ç»Ÿä½¿ç”¨è¯¥ç´¢å¼•ï¼Œå¦åˆ™è¯¥ç´¢å¼•å°†ä¸ä¼šè¢«ä½¿ç”¨ï¼Œå¹¶ä¸”åº”å°½å¯èƒ½çš„è®©å­—æ®µé¡ºåºä¸ç´¢å¼•é¡ºåºç›¸ä¸€è‡´ã€‚</p>
<ul>
<li>éµå¾ªæœ€å·¦åŸåˆ™.</li>
</ul>
</li>
<li><p>å¾ˆå¤šæ—¶å€™ç”¨existsä»£æ›¿in[æŸ¥è¯¢æ€§èƒ½å¾ˆä½]æ˜¯ä¸€ä¸ªå¥½çš„é€‰æ‹©ï¼š</p>
</li>
</ol>
<p>â€‹        select num from a where num in(select num from b)<br>â€‹         ç”¨ä¸‹é¢çš„è¯­å¥æ›¿æ¢ï¼š<br>â€‹         <em><strong>select num from a where exists(select 1 from b where num=a.num)</strong></em></p>
<ol start="14">
<li><p>å¹¶ä¸æ˜¯æ‰€æœ‰ç´¢å¼•å¯¹æŸ¥è¯¢éƒ½æœ‰æ•ˆï¼ŒSQLæ˜¯æ ¹æ®è¡¨ä¸­æ•°æ®æ¥è¿›è¡ŒæŸ¥è¯¢ä¼˜åŒ–çš„ï¼Œå½“ç´¢å¼•åˆ—æœ‰å¤§é‡æ•°æ®é‡å¤æ—¶ï¼ŒSQLæŸ¥è¯¢å¯èƒ½ä¸ä¼šå»åˆ©ç”¨ç´¢å¼•ï¼Œå¦‚ä¸€è¡¨ä¸­æœ‰å­—æ®µsexï¼Œmaleã€femaleå‡ ä¹å„ä¸€åŠï¼Œé‚£ä¹ˆå³ä½¿åœ¨sexä¸Šå»ºäº†ç´¢å¼•ä¹Ÿå¯¹æŸ¥è¯¢æ•ˆç‡èµ·ä¸äº†ä½œç”¨ - ç´¢å¼•æœ‰æ•ˆ - æ•°æ®æ§åˆ¶30%;</p>
</li>
<li><p>ç´¢å¼•å¹¶ä¸æ˜¯è¶Šå¤šè¶Šå¥½ï¼Œç´¢å¼•å›ºç„¶å¯ä»¥æé«˜ç›¸åº”çš„ select çš„æ•ˆç‡ï¼Œä½†åŒæ—¶ä¹Ÿé™ä½äº† insertåŠupdateçš„æ•ˆç‡ï¼Œå› ä¸ºinsertæˆ–updateæ—¶æœ‰å¯èƒ½ä¼šé‡å»ºç´¢å¼•ï¼Œæ‰€ä»¥æ€æ ·å»ºç´¢å¼•éœ€è¦æ…é‡è€ƒè™‘ï¼Œè§†å…·ä½“æƒ…å†µè€Œå®šã€‚<em><strong>ä¸€ä¸ªè¡¨çš„ç´¢å¼•æ•°æœ€å¥½ä¸è¦è¶…è¿‡6ä¸ª</strong></em>ï¼Œè‹¥å¤ªå¤šåˆ™åº”è€ƒè™‘ä¸€äº›ä¸å¸¸ä½¿ç”¨åˆ°çš„åˆ—ä¸Šå»ºçš„ç´¢å¼•æ˜¯å¦æœ‰ å¿…è¦ã€‚</p>
</li>
<li><p>åº”å°½å¯èƒ½çš„é¿å…æ›´æ–° clustered [èšç°‡]ç´¢å¼•æ•°æ®åˆ—ï¼Œå› ä¸ºclusteredç´¢å¼•æ•°æ®åˆ—çš„é¡ºåºå°±æ˜¯è¡¨è®°å½•çš„ç‰©ç†å­˜å‚¨é¡ºåºï¼Œä¸€æ—¦è¯¥åˆ—å€¼æ”¹å˜å°†å¯¼è‡´æ•´ä¸ªè¡¨è®°å½•çš„é¡ºåºçš„è°ƒæ•´ï¼Œä¼šè€—è´¹ç›¸å½“å¤§çš„èµ„æºã€‚è‹¥åº”ç”¨ç³»ç»Ÿéœ€è¦é¢‘ç¹æ›´æ–°clusteredç´¢å¼•æ•°æ®åˆ—ï¼Œé‚£ä¹ˆéœ€è¦è€ƒè™‘æ˜¯å¦åº”å°†è¯¥ç´¢å¼•å»ºä¸ºclusteredç´¢å¼•ã€‚</p>
</li>
<li><p>å°½é‡ä½¿ç”¨æ•°å­—å‹å­—æ®µï¼Œè‹¥åªå«æ•°å€¼ä¿¡æ¯çš„å­—æ®µå°½é‡ä¸è¦è®¾è®¡ä¸ºå­—ç¬¦å‹ï¼Œè¿™ä¼šé™ä½æŸ¥è¯¢å’Œè¿æ¥çš„æ€§èƒ½ï¼Œå¹¶ä¼šå¢åŠ å­˜å‚¨å¼€é”€ã€‚è¿™æ˜¯å› ä¸ºå¼•æ“åœ¨å¤„ç†æŸ¥è¯¢å’Œè¿æ¥æ—¶ä¼šé€ä¸ªæ¯”è¾ƒå­—ç¬¦ä¸²ä¸­æ¯ä¸€ä¸ªå­—ç¬¦ï¼Œè€Œå¯¹äºæ•°å­—å‹è€Œè¨€åªéœ€è¦æ¯”è¾ƒä¸€æ¬¡å°±å¤Ÿäº†ã€‚</p>
</li>
<li><p>å°½å¯èƒ½çš„ä½¿ç”¨<strong>varchar</strong>/nvarcharä»£æ›¿<strong>char</strong>/ncharï¼Œå› ä¸ºé¦–å…ˆå˜é•¿å­—æ®µå­˜å‚¨ç©ºé—´å°ï¼Œå¯ä»¥èŠ‚çœå­˜å‚¨ç©ºé—´ï¼Œå…¶æ¬¡å¯¹äºæŸ¥è¯¢æ¥è¯´ï¼Œåœ¨ä¸€ä¸ªç›¸å¯¹è¾ƒå°çš„å­—æ®µå†…æœç´¢æ•ˆç‡æ˜¾ç„¶è¦é«˜äº›ã€‚</p>
</li>
<li><p>ä»»ä½•åœ°æ–¹éƒ½ä¸è¦ä½¿ç”¨select * from tï¼Œç”¨å…·ä½“çš„å­—æ®µåˆ—è¡¨ä»£æ›¿â€œ*â€ï¼Œä¸è¦è¿”å›ç”¨ä¸åˆ°çš„ä»»ä½•å­—æ®µã€‚</p>
</li>
<li><p>é¿å…é¢‘ç¹åˆ›å»ºå’Œåˆ é™¤ä¸´æ—¶è¡¨ï¼Œä»¥å‡å°‘ç³»ç»Ÿè¡¨èµ„æºçš„æ¶ˆè€—ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ä¸´æ—¶è¡¨å’Œè¡¨å˜é‡ - æ¨èè¡¨å˜é‡æ¥ä»£æ›¿ä¸´æ—¶è¡¨çš„ç”¨æ³•.</span><br></pre></td></tr></table></figure></li>
<li><p>ä¸´æ—¶è¡¨å¹¶ä¸æ˜¯ä¸å¯ä½¿ç”¨ï¼Œé€‚å½“åœ°ä½¿ç”¨å®ƒä»¬å¯ä»¥ä½¿æŸäº›ä¾‹ç¨‹æ›´æœ‰æ•ˆï¼Œä¾‹å¦‚ï¼Œå½“éœ€è¦é‡å¤å¼•ç”¨å¤§å‹è¡¨æˆ–å¸¸ç”¨è¡¨ä¸­çš„æŸä¸ªæ•°æ®é›†æ—¶ã€‚ä½†æ˜¯ï¼Œå¯¹äºä¸€æ¬¡æ€§äº‹ä»¶ï¼Œæœ€å¥½ä½¿ç”¨å¯¼å‡ºè¡¨ã€‚</p>
</li>
<li><p>åœ¨æ–°å»ºä¸´æ—¶è¡¨æ—¶ï¼Œå¦‚æœä¸€æ¬¡æ€§æ’å…¥æ•°æ®é‡å¾ˆå¤§ï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨select intoä»£æ›¿create tableï¼Œé¿å…é€ æˆå¤§é‡logï¼Œä»¥æé«˜é€Ÿåº¦ï¼›å¦‚æœæ•°æ®é‡ä¸å¤§ï¼Œä¸ºäº†ç¼“å’Œç³»ç»Ÿè¡¨çš„èµ„æºï¼Œåº”å…ˆcreate tableï¼Œç„¶åinsertã€‚</p>
</li>
<li><p>å¦‚æœä½¿ç”¨åˆ°äº†ä¸´æ—¶è¡¨ï¼Œåœ¨å­˜å‚¨è¿‡ç¨‹çš„æœ€ååŠ¡å¿…å°†æ‰€æœ‰çš„ä¸´æ—¶è¡¨æ˜¾å¼åˆ é™¤ï¼Œå…ˆtruncate tableï¼Œç„¶ådrop tableï¼Œè¿™æ ·å¯ä»¥é¿å…ç³»ç»Ÿè¡¨çš„è¾ƒé•¿æ—¶é—´é”å®šã€‚</p>
</li>
<li><p>å°½é‡é¿å…ä½¿ç”¨æ¸¸æ ‡ï¼Œå› ä¸ºæ¸¸æ ‡çš„æ•ˆç‡è¾ƒå·®ï¼Œå¦‚æœæ¸¸æ ‡æ“ä½œçš„æ•°æ®è¶…è¿‡1ä¸‡è¡Œï¼Œé‚£ä¹ˆå°±åº”è¯¥è€ƒè™‘æ”¹å†™ã€‚</p>
</li>
<li><p>å°½é‡é¿å…å¤§äº‹åŠ¡æ“ä½œï¼Œæé«˜ç³»ç»Ÿå¹¶å‘èƒ½åŠ›ã€‚</p>
</li>
</ol>

      </section>
      <section class="extra">
        
          <ul class="copyright">
  
    <li><strong>æœ¬æ–‡ä½œè€…ï¼š</strong>yang</li>
    <li><strong>æœ¬æ–‡é“¾æ¥ï¼š</strong><a href="http://example.com/2021/08/17/mysql-%E8%A7%86%E5%9B%BE%E5%87%BD%E6%95%B0%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B/index.html" title="http:&#x2F;&#x2F;example.com&#x2F;2021&#x2F;08&#x2F;17&#x2F;mysql-%E8%A7%86%E5%9B%BE%E5%87%BD%E6%95%B0%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B&#x2F;index.html">http:&#x2F;&#x2F;example.com&#x2F;2021&#x2F;08&#x2F;17&#x2F;mysql-%E8%A7%86%E5%9B%BE%E5%87%BD%E6%95%B0%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B&#x2F;index.html</a></li>
    <li><strong>ç‰ˆæƒå£°æ˜ï¼š</strong>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« å‡é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" title="BY-NC-SA" target="_blank" rel="noopener">BY-NC-SA</a> è®¸å¯åè®®ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</li>
  
</ul>
        
        
          <section class="donate">
  <div id="qrcode-donate">
    <img   class="lazyload" data-original="https://pic.izhaoo.com/alipay.jpg" src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" >
  </div>
  <div class="icon">
    <a href="javascript:;" id="alipay"><i class="iconfont iconalipay"></i></a>
    <a href="javascript:;" id="wechat"><i class="iconfont iconwechat-fill"></i></a>
  </div>
</section>
        
        
  <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/MySql/" rel="tag">MySql</a></li></ul> 

        
  <nav class="nav">
    <a href="/2021/08/17/mysql-%E7%B4%A2%E5%BC%95%E4%B8%93%E9%A2%98-B+%E6%A0%91/"><i class="iconfont iconleft"></i>B+æ ‘</a>
    <a href="/2021/08/16/mysql_%E4%B8%93%E9%A2%98%E7%AF%87_%E7%B4%A2%E5%BC%95%E9%AB%98%E7%BA%A7/">ç´¢å¼•é«˜çº§<i class="iconfont iconright"></i></a>
  </nav>

      </section>
      
    </section>
  </div>
</article></div>
      <div class="col-xl-3">
        
          
  <aside class="toc-wrap">
    <h3 class="toc-title">æ–‡ç« ç›®å½•ï¼š</h3>
    <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%87%BD%E6%95%B0function"><span class="toc-text">å‡½æ•°function</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95"><span class="toc-text">è¯­æ³•</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%83%E4%B9%A01-%E8%87%AA%E5%AE%9A%E4%B9%89%E5%87%BD%E6%95%B0"><span class="toc-text">ç»ƒä¹ 1 - è‡ªå®šä¹‰å‡½æ•°</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%83%E4%B9%A02-%E8%87%AA%E5%AE%9A%E4%B9%89%E5%87%BD%E6%95%B0"><span class="toc-text">ç»ƒä¹ 2 - è‡ªå®šä¹‰å‡½æ•°</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%83%E4%B9%A03-while-do%E2%80%A6end-while"><span class="toc-text">ç»ƒä¹ 3 - while..doâ€¦end while</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%83%E4%B9%A04-if%E2%80%A6end-if"><span class="toc-text">ç»ƒä¹ 4 - ifâ€¦end if</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%83%E4%B9%A04-%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F"><span class="toc-text">ç»ƒä¹ 4 - å…¨å±€å˜é‡</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8Bprocedure"><span class="toc-text">å­˜å‚¨è¿‡ç¨‹procedure</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%9C%E7%94%A8"><span class="toc-text">ä½œç”¨</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95-1"><span class="toc-text">è¯­æ³•</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%93%E9%AA%8C"><span class="toc-text">ä½“éªŒ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BE%93%E5%85%A5%E5%92%8C%E8%BE%93%E5%87%BA"><span class="toc-text">è¾“å…¥å’Œè¾“å‡º</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#in%E8%BE%93%E5%85%A5"><span class="toc-text">inè¾“å…¥</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#out%E8%BE%93%E5%87%BA"><span class="toc-text">outè¾“å‡º</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%83%E4%B9%A0-%E5%B0%81%E8%A3%85%E5%8D%95%E4%B8%AA%E7%BB%93%E6%9E%9C%E9%9B%86"><span class="toc-text">ç»ƒä¹  - å°è£…å•ä¸ªç»“æœé›†</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%83%E4%B9%A0-%E5%B0%81%E8%A3%85%E7%9A%84%E6%98%AF%E5%A4%9A%E8%A1%8C%E7%BB%93%E6%9E%9C%E9%9B%86"><span class="toc-text">ç»ƒä¹  - å°è£…çš„æ˜¯å¤šè¡Œç»“æœé›†</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%83%E4%B9%A0-%E5%B8%A6%E4%BA%8B%E5%8A%A1"><span class="toc-text">ç»ƒä¹  - å¸¦äº‹åŠ¡</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%AF%AD%E5%8F%A5%E4%BD%BF%E7%94%A8"><span class="toc-text">è¯­å¥ä½¿ç”¨</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9D%A1%E4%BB%B6%E5%88%86%E6%94%AF%E8%AF%AD%E5%8F%A5"><span class="toc-text">æ¡ä»¶åˆ†æ”¯è¯­å¥</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BE%AA%E7%8E%AF%E8%AF%AD%E5%8F%A5"><span class="toc-text">å¾ªç¯è¯­å¥</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%80%BB%E7%BB%93%E5%87%BD%E6%95%B0%E5%92%8C%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-text">æ€»ç»“å‡½æ•°å’Œå­˜å‚¨è¿‡ç¨‹çš„åŒºåˆ«</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%A7%A6%E5%8F%91%E5%99%A8"><span class="toc-text">è§¦å‘å™¨</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%86%E7%B1%BB"><span class="toc-text">åˆ†ç±»</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95-2"><span class="toc-text">è¯­æ³•</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%93%E9%AA%8C-1"><span class="toc-text">ä½“éªŒ</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E4%BC%98%E5%8C%96"><span class="toc-text">æ•°æ®åº“ä¼˜åŒ–</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#sql%E4%BC%98%E5%8C%96-%E8%87%B3%E5%B0%91%E8%83%8C10%E6%9D%A1"><span class="toc-text">sqlä¼˜åŒ– - è‡³å°‘èƒŒ10æ¡</span></a></li></ol></li></ol>
  </aside>

        
      </div>
    </div>
  </div>
</main>
  

<footer class="footer">
  <div class="footer-social"><a 
        href="tencent://message/?Menu=yes&uin=2376754897 "
        target="_blank"
        class="footer-social-item"
        onMouseOver="this.style.color= '#12B7F5'" 
        onMouseOut="this.style.color='#33333D'">
          <i class="iconfont  iconQQ "></i>
      </a><a 
        href="javascript:; "
        target="_blank"
        class="footer-social-item"
        onMouseOver="this.style.color= '#09BB07'" 
        onMouseOut="this.style.color='#33333D'">
          <i class="iconfont  iconwechat-fill "></i>
      </a><a 
        href="https://www.baidu.com "
        target="_blank"
        class="footer-social-item"
        onMouseOver="this.style.color= '#DA2E76'" 
        onMouseOut="this.style.color='#33333D'">
          <i class="iconfont  iconinstagram "></i>
      </a><a 
        href="https://github.com/yangmoureng "
        target="_blank"
        class="footer-social-item"
        onMouseOver="this.style.color= '#9f7be1'" 
        onMouseOut="this.style.color='#33333D'">
          <i class="iconfont  icongithub-fill "></i>
      </a><a 
        href="mailto:18687993885@163.com "
        target="_blank"
        class="footer-social-item"
        onMouseOver="this.style.color=#FF3B00" 
        onMouseOut="this.style.color='#33333D'">
          <i class="iconfont  iconmail"></i>
      </a></div>
  
    <div class="footer-copyright"><p>Powered by <a target="_blank" href="https://hexo.io">Hexo</a>  |  Theme - <a target="_blank" href="https://github.com/yangmoureng">yang</a></p></div>
  
</footer>
  
      <div class="fab fab-plus">
    <i class="iconfont iconplus"></i>
  </div>
  
  
  
  <div class="fab fab-up">
    <i class="iconfont iconcaret-up"></i>
  </div>
  
  
  
    
<script src="/js/color-mode.js"></script>

  
  
<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/koharu.model.json"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":true},"log":false});</script></body>

<script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.min.js"></script>





  
<script src="https://cdn.bootcdn.net/ajax/libs/jquery.lazyload/1.9.1/jquery.lazyload.min.js"></script>




  
<script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js"></script>






  
<script src="https://cdn.bootcdn.net/ajax/libs/jquery.qrcode/1.0/jquery.qrcode.min.js"></script>




<script src="/js/utils.js"></script>
<script src="/js/script.js"></script>







  <script>
    (function () {
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
      } else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
    })();
  </script>













</html>